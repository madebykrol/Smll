<?php
use smll\framework\utils\HashMap;

$layout = 'smll/cms/views/Share/_layout.phtml';

use smll\framework\helpers\Html;
?>
<div class="row-fluid">
	<div class="span12">
		<?php print Html::renderAction('adminToolsNav', 'AdminNav');?>
	</div>
</div>
<div class="row-fluid">
	<div class="span2">
		<?php print Html::renderAction('editContentTreeNav', 'AdminNav'); ?>
	</div>
	<div class="span10">
		<h2>Installed block types</h2>

		<table class="table table-striped">
			<thead>
				<th>Content type</th>
				<th>Description</th>
				<th class="pull-right">Actions</th>
			</thead>
			<tbody>
				<?php foreach($model->installed->getIterator() as $pageType) {?>
				<tr>
					<td><?php print $pageType->name;?></td>
					<td><?php print $pageType->description;?>
					</td>
					<td class="">
						<div class="btn-group pull-right">
							<a href="" class="btn btn-primary">Edit</a> <a
								href="<?php print Html::actionUrl('rebuild-content-type', 'Admin', new HashMap(array('type' => $pageType->name, 'dataType' => 'BlockData')));?>"
								class="btn btn-warning">Rebuild</a> <a href=""
								class="btn btn-danger">Delete</a>
						</div>
					</td>
				</tr>
				<?php }?>
			</tbody>
		</table>

		<h2>Uninstalled block types</h2>
		<table class="table">
			<thead>
				<th>Page type</th>

				<th class="pull-right">Actions</th>
			</thead>
			<tbody>
				<?php foreach($model->uninstalled->getIterator() as $pageType) {?>
				<tr>
					<td><?php print $pageType->name;?></td>

					<td class="">
						<div class="btn-group pull-right">
							<a
								href="<?php print Html::actionUrl('build-content-type', 'Admin', new HashMap(array('type' => $pageType->name, 'dataType' => 'BlockData')));?>"
								class="btn btn-warning">Build</a>
						</div>
					</td>
				</tr>
				<?php }?>
			</tbody>
		</table>
	</div>
</div>
